(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(n,e,t){n.exports=t(58)},58:function(n,e,t){"use strict";t.r(e);var r=t(2),a=t.n(r),i=t(14),o=t.n(i),c=t(18),u=t(5),l=t(6);function s(){var n=Object(u.a)(["\n  input {\n    font-family: inherit;\n  }\n\n  th {\n    text-align: left;\n  }\n\n  strong {\n    font-weight: bold;\n  }\n"]);return s=function(){return n},n}function d(){var n=Object(u.a)(["\n      body {\n        font-family: ",";\n      }\n    "]);return d=function(){return n},n}function f(){var n=Object(u.a)(["\n      @import url('https://fonts.googleapis.com/css?family=","&display=swap');\n    "]);return f=function(){return n},n}function p(){var n=Object(u.a)(["\n  ","\n\n  ","\n"]);return p=function(){return n},n}function m(){var n=Object(u.a)(["\n  /* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n  */\n\n  html, body, div, span, applet, object, iframe,\n  h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n  a, abbr, acronym, address, big, cite, code,\n  del, dfn, em, img, ins, kbd, q, s, samp,\n  small, strike, strong, sub, sup, tt, var,\n  b, u, i, center,\n  dl, dt, dd, ol, ul, li,\n  fieldset, form, label, legend,\n  table, caption, tbody, tfoot, thead, tr, th, td,\n  article, aside, canvas, details, embed, \n  figure, figcaption, footer, header, hgroup, \n  menu, nav, output, ruby, section, summary,\n  time, mark, audio, video {\n    margin: 0;\n    padding: 0;\n    border: 0;\n    font-size: 100%;\n    font: inherit;\n    vertical-align: baseline;\n  }\n  /* HTML5 display-role reset for older browsers */\n  article, aside, details, figcaption, figure, \n  footer, header, hgroup, menu, nav, section {\n    display: block;\n  }\n  body {\n    line-height: 1;\n  }\n  ol, ul {\n    list-style: none;\n  }\n  blockquote, q {\n    quotes: none;\n  }\n  blockquote:before, blockquote:after,\n  q:before, q:after {\n    content: '';\n    content: none;\n  }\n  table {\n    border-collapse: collapse;\n    border-spacing: 0;\n  }\n"]);return m=function(){return n},n}var b=Object(l.a)(m()),v=Object(l.a)(p(),function(n){return Object(l.b)(f(),encodeURIComponent(n.family))},function(n){return n.isMain?Object(l.b)(d(),n.family):null}),g=Object(l.a)(s());function h(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(b,null),a.a.createElement(g,null),a.a.createElement(v,{isMain:!0,family:"Open Sans"}))}var E,y=t(13);function z(n,e){return n.find(function(n){return n.name===function(n){switch(n){case E.Large:return"large";case E.Medium:return"medium";case E.Small:return"small";default:return null}}(e)})}function j(n,e){var t=n.sizeType,r=n.toppings,a=z(e,t);if(!a)return null;var i=a.basePrice,o=!0,c=!1,u=void 0;try{for(var l,s=r[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){i+=l.value.price}}catch(d){c=!0,u=d}finally{try{o||null==s.return||s.return()}finally{if(c)throw u}}return i}!function(n){n.Large="LARGE",n.Medium="MEDIUM",n.Small="SMALL"}(E||(E={}));var O=t(10),k=t(61),w=t(17),q=t(8),L=t(37),S=t(25),x=new L.a({uri:"https://core-graphql.dev.waldo.photos/pizza"}),C=q.a.from([x]),P=new S.a({dataIdFromObject:function(n){return n.id||Object(S.b)(n)}}),M=new w.a({link:C,cache:P});var T=t(35);function R(){var n=Object(u.a)(["\n  query PizzaSizes {\n    pizzaSizes {\n      name\n      maxToppings\n      toppings {\n        topping {\n          name\n          price\n        }\n        defaultSelected\n      }\n      basePrice\n    }\n  }\n"]);return R=function(){return n},n}var F=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object(O.a)({},{client:M},e);if(!t.client)throw new Error("Client is required for createQueryHook");function a(e,t,r){return e.readQuery({query:n,variables:t},r)}function i(e,t){var r=t.data,a=t.variables;e.writeQuery({query:n,data:r,variables:a})}return[function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(k.a)(n,Object(O.a)({},t,a,{variables:e})),o=function(n,e){var t=Object(r.useRef)(n);return!e&&[null,void 0].includes(n)||(t.current=n),t.current}(i.data,!i.loading);return Object(O.a)({},i,{data:o})},{read:a,write:i,update:function(n,e,t){i(n,{data:e(a(n,t)),variables:t})}}]}(t.n(T)()(R())),I=Object(c.a)(F,1)[0];function A(){var n=I(),e=n.data,t=n.loading,r=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var t=n();return[void 0].includes(t)?e:t}catch(r){return e}}(function(){return e.pizzaSizes},[]);return console.log({data:e}),{sizes:r,getSize:function(n){return z(r,n)},isLoading:t}}function Q(){var n=Object(u.a)(["\n        opacity: 0.3;\n        pointer-events: none;\n      "]);return Q=function(){return n},n}function $(){var n=Object(u.a)(["\n  ","\n"]);return $=function(){return n},n}var H=l.c.div($(),function(n){if(!n.isEnabled)return Object(l.b)(Q())});function J(n){var e=n.toppings,t=n.onPicked,r=n.pickLabel,i=n.isEnabled;return a.a.createElement(H,{isEnabled:i},e.map(function(n,e){return a.a.createElement("div",{key:"".concat(n.name,"-").concat(e)},a.a.createElement("button",{onClick:function(){return t(n,e)}},r),n.name," ($",n.price.toFixed(2),")")}))}function U(){var n=Object(u.a)(["\n  border: 1px solid #000;\n  padding: 10px;\n"]);return U=function(){return n},n}var B=l.c.div(U());function D(n){var e=n.pizza,t=n.onChange,r=n.onRemoveRequest,i=A(),o=i.sizes,c=i.getSize,u=i.isLoading,l=c(e.sizeType),s=j(e,o),d=function(n,e){var t=n.sizeType,r=n.toppings,a=z(e,t);return!!a&&(null===a.maxToppings||r.length<a.maxToppings)}(e,o);function f(n){var r=Object(O.a)({},e,{toppings:n});t(r)}return u?a.a.createElement("div",null,"Loading..."):a.a.createElement(B,null,a.a.createElement("strong",null,"Price: $",s.toFixed(2)),a.a.createElement(J,{isEnabled:!0,toppings:e.toppings,onPicked:function(n,t){f(e.toppings.filter(function(n,e){return e!==t}))},pickLabel:"-"}),a.a.createElement("strong",null,"Add Topping: "),a.a.createElement(J,{isEnabled:d,toppings:l.toppings.map(function(n){return n.topping}),onPicked:function(n){f([].concat(Object(y.a)(e.toppings),[n]))},pickLabel:"+"}),a.a.createElement("button",{onClick:r},"Remove Pizza"))}function G(n){var e=n.onPicked;return a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return e(E.Small)}},"Small"),a.a.createElement("button",{onClick:function(){return e(E.Medium)}},"Medium"),a.a.createElement("button",{onClick:function(){return e(E.Large)}},"Large"))}function N(){var n=Object(u.a)(["\n  margin-bottom: 1em;\n"]);return N=function(){return n},n}function K(){var n=Object(u.a)(["\n  margin-bottom: 3em;\n"]);return K=function(){return n},n}var V=l.c.div(K()),W=l.c.div(N());function X(n){var e=n.pizzas,t=void 0===e?[]:e,r=n.onChange,i=A().sizes;function o(n,e){var a=Object(y.a)(t);a[n]=e,r(a)}var c=t.reduce(function(n,e){return n+j(e,i)},0);return console.log(c),a.a.createElement("div",null,a.a.createElement(V,null,a.a.createElement("strong",null,"New Pizza:"),a.a.createElement(G,{onPicked:function(n){r([{sizeType:n,toppings:[]}].concat(Object(y.a)(t)))}})),t.map(function(n,e){return a.a.createElement(W,{key:e},a.a.createElement(D,{pizza:n,onRemoveRequest:function(){return function(n){var e=t.filter(function(e,t){return t!==n});r(e)}(e)},onChange:function(n){return o(e,n)}}))}),a.a.createElement("div",null,a.a.createElement("strong",null,"Total: $",c.toFixed(2))))}o.a.render(a.a.createElement(function(){var n=Object(r.useState)([]),e=Object(c.a)(n,2),t=e[0],i=e[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(h,null),a.a.createElement(X,{pizzas:t,onChange:i}))},null),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.59cdf35d.chunk.js.map